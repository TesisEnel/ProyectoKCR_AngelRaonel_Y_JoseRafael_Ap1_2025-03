@page "/seleccion-servicio"
@layout ClientLayout
@using System.Threading
@inject NavigationManager navigationManager
@rendermode InteractiveServer

<div class="servicio-container">

    <img src="/Img-Vector/Union.svg" class="vector-decor top-left" alt="" />
    <img src="/Img-Vector/Union-1.svg" class="vector-decor top-right" alt="" />
    <img src="/Img-Vector/Union-2.svg" class="vector-decor bottom-left" alt="" />
    <img src="/Img-Vector/Union.svg" class="vector-decor bottom-right" alt="" />

    <div class="center-content">

        <h2 class="cliente-nombre">@NombreParaMostrar</h2>

        <h3 class="titulo-instruccion">SERVICIO A SOLICITAR:</h3>

        <div class="botones-wrapper">
            <button class="btn-servicio btn-express" @onclick="SeleccionarExpres">
                Servicio Exprés
                <span class="icon-suffix">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3" stroke-linecap="round">
                        <path d="M4 12H20M4 6H16M4 18H12" />
                    </svg>
                </span>
            </button>

            <button class="btn-servicio btn-diseno" @onclick="SeleccionarDiseno">
                Diseño y Edición
            </button>
        </div>

        <button class="btn-volver" @onclick="IrAtras">
            VOLVER
        </button>
    </div>
</div>

@code {
    // Capturamos el parámetro de la URL: ?nombreCliente=Juan
    [SupplyParameterFromQuery(Name = "nombreCliente")]
    public string? NombreRecibido { get; set; }

    // Propiedad calculada para mostrar un valor por defecto si viene vacío
    public string NombreParaMostrar => string.IsNullOrEmpty(NombreRecibido) ? "Estimado Cliente" : NombreRecibido;

    private void IrAtras()
    {
        // Navega de vuelta al formulario
        navigationManager.NavigateTo("/cliente");
    }

    private void SeleccionarExpres()
    {
        // Lógica para servicio exprés (ej. guardar turno en BD)
        Console.WriteLine($"Cliente {NombreRecibido} seleccionó Exprés");
    }

    private void SeleccionarDiseno()
    {
        // Lógica para diseño
        Console.WriteLine($"Cliente {NombreRecibido} seleccionó Diseño");
    }
}